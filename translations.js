const translations = {
    fr: {
        "dashboard": "Tableau de board",
        "courses": "Cours",
        "schedule": "Emploi du temps",
        "messages": "Messages",
        "analytics": "Analytique",
        "settings": "ParamÃ¨tres",
        "logout": "DÃ©connexion",
        "search_placeholder": "Rechercher des cours, des documents...",
        "hello_user": "Bonjour, Houssem! ðŸ‘‹",
        "welcome_msg": "Continuez comme Ã§a. Vous avez rÃ©alisÃ© 70% de vos objectifs hebdomadaires.",
        "courses_progress": "Cours en cours",
        "completed": "TerminÃ©",
        "hours_spent": "Heures passÃ©es",
        "continue_learning": "Continuer Ã  apprendre",
        "view_all": "Voir tout",
        "upcoming_schedule": "Calendrier Ã  venir",
        "see_calendar": "Voir le calendrier",
        "math_exam": "Examen de mi-session de mathÃ©matiques",
        "physics_study": "Groupe d'Ã©tude de physique",
        "all_courses": "Tous les cours",
        "in_progress": "En cours",
        "start": "Commencer",
        "continue": "Continuer",
        "my_schedule": "Mon emploi du temps",
        "performance_analytics": "Analyse des performances",
        "weekly_activity": "ActivitÃ© hebdomadaire",
        "subject_mastery": "MaÃ®trise du sujet",
        "language": "Langue",
        "select_language": "Changer de langue",
        "theme": "ThÃ¨me",
        "dark_mode": "Mode sombre",
        "save_settings": "Enregistrer",
        "settings_saved": "ParamÃ¨tres enregistrÃ©s!",
        "contact_support": "Contacter le support",
        "role_student": "Ã‰tudiant"
    },
    ar: {
        "dashboard": "Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©",
        "courses": "Ø§Ù„Ø¯ÙˆØ±Ø§Øª",
        "schedule": "Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ",
        "messages": "Ø§Ù„Ø±Ø³Ø§Ø¦Ù„",
        "analytics": "Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª",
        "settings": "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
        "logout": "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",
        "search_placeholder": "Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¯ÙˆØ±Ø§Øª ÙˆØ§Ù„Ù…ÙˆØ§Ø¯...",
        "hello_user": "Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø­Ø³Ø§Ù…! ðŸ‘‹",
        "welcome_msg": "ÙˆØ§ØµÙ„ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬ÙŠØ¯. Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª 70% Ù…Ù† Ø£Ù‡Ø¯Ø§ÙÙƒ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©.",
        "courses_progress": "Ø¯ÙˆØ±Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„ØªÙ‚Ø¯Ù…",
        "completed": "Ù…ÙƒØªÙ…Ù„",
        "hours_spent": "Ø³Ø§Ø¹Ø§Øª Ù‚Ø¶ÙŠØªÙ‡",
        "continue_learning": "Ù…ÙˆØ§ØµÙ„Ø© Ø§Ù„ØªØ¹Ù„Ù…",
        "view_all": "Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„",
        "upcoming_schedule": "Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù‚Ø§Ø¯Ù…",
        "see_calendar": "Ø§Ù†Ø¸Ø± Ø§Ù„ØªÙ‚ÙˆÙŠÙ…",
        "math_exam": "Ø§Ù…ØªØ­Ø§Ù† Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø§Ù„Ù†ØµÙÙŠ",
        "physics_study": "Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¯Ø±Ø§Ø³Ø© Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡",
        "all_courses": "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯ÙˆØ±Ø§Øª",
        "in_progress": "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ‚Ø¯Ù…",
        "start": "Ø¨Ø¯Ø¡",
        "continue": "Ø§Ø³ØªÙ…Ø±",
        "my_schedule": "Ø¬Ø¯ÙˆÙ„ÙŠ",
        "performance_analytics": "ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡",
        "weekly_activity": "Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ",
        "subject_mastery": "Ø¥ØªÙ‚Ø§Ù† Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹",
        "language": "Ø§Ù„Ù„ØºØ©",
        "select_language": "Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ©",
        "theme": "Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹",
        "dark_mode": "Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†",
        "save_settings": "Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
        "settings_saved": "ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª!",
        "contact_support": "Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¯Ø¹Ù…",
        "role_student": "Ø·Ø§Ù„Ø¨"
    }
};

function applyTranslations(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            if (element.tagName === 'INPUT' && element.getAttribute('placeholder')) {
                element.placeholder = translations[lang][key];
            } else {
                element.innerText = translations[lang][key];
            }
        }
    });

    // Handle RTL
    if (lang === 'ar') {
        document.documentElement.setAttribute('dir', 'rtl');
        document.documentElement.lang = 'ar';
    } else {
        document.documentElement.setAttribute('dir', 'ltr');
        document.documentElement.lang = lang;
    }

    localStorage.setItem('myipei-lang', lang);
}

// Initial load
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('myipei-lang') || 'fr';
    applyTranslations(savedLang);
});
